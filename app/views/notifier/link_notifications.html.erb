********************************************************************************
*****************  [NSNCallCenter] LINK <%= "#{@link.versions.last.event}d".upcase %>  ************************
********************************************************************************

Field Manager:

Next link record has been <%= "#{@link.versions.last.event}d" %>: <%= @link.sites%>

Has been modified by: <%= @link.modified_by.person.nil? ? @link.modified_by.email : @link.modified_by.person.fullname %>

Updated at: <%= @link.updated_at%>

<% ommited_attributes = ['configuration', 'id', 'modified_by_id', 'other', 'created_at', 'updated_at'] %>
CURRENT DATA:
<% (@link.attribute_names - ommited_attributes).each do |attr|%>
  <% if attr =~ /\_id$/%>
    <% model_name = attr.sub(/\_id$/,'')%>
    <% @link.send(model_name.to_s).nil? ? attribute_data = "nil" : attribute_data = @link.send(model_name.to_s).name %>
  <% else%>|
    <% attribute_data = @link.send(attr.to_s)%>
  <% end%>
  <%= "  --" + ActiveSupport::Inflector.humanize(attr).to_s + ": #{attribute_data}" %>
<% end%>






PREVIOUS DATA:
<% last_version = @link.versions.last.reify %>
<% (last_version.attribute_names - ommited_attributes).each do |attr|%>
  <% if attr =~ /\_id$/%>
    <% model_name = attr.sub(/\_id$/,'')%>
    <% last_version.send(model_name.to_s).nil? ? attribute_data = "nil" : attribute_data = last_version.send(model_name.to_s).name %>
  <% else%>
    <% attribute_data = last_version.send(attr.to_s)%>
  <% end%>
  <%= "  --" + ActiveSupport::Inflector.humanize(attr) + ": #{attribute_data}" %>
<% end%>

You can see total versions of this ticket in the next url:
<%= url_for :controller => 'links', :action => 'show', :id => @link.id,
            :host => 'localhost:3000/field_manager', :only_path => false, :escape => false%>


Nokia Siemens Networks.


--This message has been generated automatically, please do not reply.

*****************************************************************************
